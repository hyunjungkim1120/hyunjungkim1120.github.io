---
title: redis (1)
template: blog-post
tags: [ redis]
date: 2021-09-09T05:25:44.226Z
slug: /redis
featuredImage: /assets/Redis/icon.png
description: Redis ê°œë…ì´í•´ ë° ì‚¬ìš© (spring boot)


---



## Redis

ğŸ’¡ ë ˆë””ìŠ¤ëŠ” Remote Dictionary Serverì˜ ì•½ìë¡œì„œ, "í‚¤-ê°’" êµ¬ì¡°ì˜ ë¹„ì •í˜• ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³  ê´€ë¦¬í•˜ê¸° ìœ„í•œ ì˜¤í”ˆ ì†ŒìŠ¤ ê¸°ë°˜ì˜ ë¹„ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬ ì‹œìŠ¤í…œì´ë‹¤.

</br>

ìºì‹±, ì„¸ì…˜ ê´€ë¦¬, ì±„íŒ…/ë©”ì‹œì§•, ì†ë„ì œí•œ ë“± ì—¬ëŸ¬ ì‚¬ë¡€ì—ì„œ ì‚¬ìš©í•˜ë©° í˜„ì¬ ê°€ì¥ ì¸ê¸° ìˆëŠ” í‚¤-ê°’ ìŠ¤í† ì–´ì´ë‹¤. Java, Python, PHP, C, C++, C#, JavaScript, Node.js, Ruby, R, Goë¥¼ ë¹„ë¡¯í•œ ë‹¤ì–‘í•œ ê°œë°œì–¸ì–´ë¥¼ ì§€ì›í•˜ë©° ì†ë„ê°€ ë¹ ë¥´ê³  ì‚¬ìš©ì´ ê°„í¸í•˜ì—¬ ë‹¤ì–‘í•œ ì›¹, ëª¨ë°”ì¼ ë“± ë‹¤ì–‘í•œ ë¶„ì•¼ì—ì„œ ì‚¬ìš©í•˜ê³ ìˆë‹¤.

</br>

</br>

</br>

#### Redis ì— ëŒ€í•˜ì—¬...

1. RedisëŠ” ë””ìŠ¤í¬ê°€ ì•„ë‹Œ I/Oê°€ ê°€ì¥ ë¹ ë¥¸ ë©”ëª¨ë¦¬ì— ì €ì¥í•˜ê¸° ë•Œë¬¸ì— ë¹ ë¥´ë‹¤.

2. ì¼ë°˜ì ìœ¼ë¡œ ì„œë²„ì˜ ë©”ëª¨ë¦¬ì— ì„¸ì…˜ì„ ê´€ë¦¬í•œë‹¤ë©´ ì„œë¡œë‹¤ë¥¸ ì„œë²„ê°„ì˜ ì„¸ì…˜ ê³µìœ ë¥¼ ìœ„í•´ ì¶”ê°€ì‘ì—…ì´ í•„ìš”í•œ ë‹¨ì ì„ Redisë¡œ ê·¹ë³µê°€ëŠ¥!

but, ë ˆë””ìŠ¤ëŠ” ë©”ëª¨ë¦¬ì €ì¥ ë°©ì‹ì´ë¯€ë¡œ Physical Memory ì´ìƒì„ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ swapì´ ë°œìƒí•˜ì—¬ ê³„ì†í•´ì„œ ë””ìŠ¤í¬ë¥¼ ì½ëŠ”ë‹¤ê³  í•œë‹¤. ì´ ê²½ìš° Redisì˜ ì„±ëŠ¥ì´ í¬ê²Œ ì €í•˜ë˜ì–´ Redisì˜ ì‚¬ìš©ì˜ë¯¸ê°€ ì¤„ì–´ë“ ë‹¤! 

ë˜í•œ RedisëŠ” ì‹±ê¸€ ìŠ¤ë ˆë“œë¡œ ë™ì‘í•˜ì—¬ ë°ì´í„°ì˜ ì¼ê´€ì„±ì„ ë³´ì¥í•˜ì§€ë§Œ í•œë²ˆì— í•˜ë‚˜ì˜ ì»¤ë§¨ë“œê°€ ì‹¤í–‰ë˜ëŠ” ë™ì•ˆì— ë‹¤ìŒ ëª…ë ¹ì€ ëŒ€ê¸°ìƒíƒœì´ë‹¤. 

</br>

ğŸ“‹ **ê²°ë¡ ** : Redis ì„œë²„ë¥¼ ëª©ì /ê¸°ëŠ¥ì— ë”°ë¼ ë¶„ë¦¬í•´ì„œ ì‚¬ìš©í•˜ë©´ ë¶„ë¦¬ëœ ì„œë²„ ìˆ˜ ë§Œí¼ ì²˜ë¦¬ì†ë„ë¥¼ í–¥ìƒì‹œì¼œ ë©”ëª¨ë¦¬ ê´€ë¦¬ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤!

</br>

</br>

#### Redis ë‹¤ìš´ë°›ê¸°

ë‹¤ìš´ë¡œë“œ URL :  https://redis.io/download 

(Dockerë¥¼ ì‚¬ìš©ì˜ ê²½ìš° https://hub.docker.com/_/redis/ ì—ì„œ ì´ë¯¸ì§€ ê´€ë ¨ëœ ì •ë³´ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤.)

</br>

</br>

</br>

#### Spring Boot + Redis

1. **Mavenë˜ëŠ” Gradleì— ì˜ì¡´ì„± ì¶”ê°€**

   `spring-boot-starter-data-redis` : springì—ì„œ redisë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ì˜ì¡´ì„±
   `spring-session-data-redis` : springì˜ session storageë¡œì¨ ê¸°ì¡´ì˜ ë©”ëª¨ë¦¬ ëŒ€ì‹  redisë¥¼ ì´ìš©í•´ ì„¸ì…˜ì„ ì €ì¥ í•˜ê¸° ìœ„í•œ ì˜ì¡´ì„±

   </br>

2. **application.properties or application.yml ì— host, port ì„¤ì •**

   ì•„ë˜ëŠ” application. yml ì˜ˆì‹œ

   ```yml
   spring:
     redis:
       host: redis hostì •ë³´
       port: portì •ë³´
   ```

   </br>

3. **Config ì„¤ì •**

   ```java
   @Configuration
   public class RedisConfig {
   	@Value("${spring.redis.host}")
   	public String host;
   
   	@Value("${spring.redis.port}")
   	public int port;
   
   
   	@Bean
   	public RedisTemplate<String, Object> redisTemplate(RedisConnectionFactory connectionFactory) {
   		RedisTemplate<String, Object> redisTemplate = new RedisTemplate<>();
   		redisTemplate.setKeySerializer(new StringRedisSerializer());
   		redisTemplate.setValueSerializer(new GenericJackson2JsonRedisSerializer());
   		redisTemplate.setConnectionFactory(connectionFactory);
   		return redisTemplate;
           }
   
   	@Bean
   	public RedisConnectionFactory redisConnectionFactory() {
   		RedisStandaloneConfiguration configuration = new RedisStandaloneConfiguration();
   		configuration.setHostName(host);
   		configuration.setPort(port);
   		return new LettuceConnectionFactory(configuration);
   	}
   }
   ```

   </br>

4. **ì–´ë…¸í…Œì´ì…˜ ì„¤ì •**

   mainë©”ì„œë“œê°€ ìœ„ì¹˜í•˜ëŠ” í´ë˜ìŠ¤ì˜ ìœ„ì— `@EnableRedisHttpSession`ì„ ì¶”ê°€

   ì–´ë…¸í…Œì´ì…˜ ì„¤ì •ìœ¼ë¡œ ì•„ì£¼ ê°„ë‹¨í•˜ê²Œ Redis Session Cluster í™˜ê²½ì„ êµ¬ì„±í•  ìˆ˜ ìˆë‹¤.

   ```java
   @SpringBootApplication
   @EnableRedisHttpSession
   public class RedisSessionExamApplication {
   
   	public static void main(String[] args) {
   		//Todo..
   		
   	}
   
   }
   ```

</br>

ì´ì œ ì„¸ì…˜ì— ì €ì¥ë˜ëŠ”ì§€ Testí•´ë³´ë©´ ì„¤ì • ë!

</br>

</br>

</br>

#### â” ë™ì‹œ ì ‘ì†ì Control

ë‚˜ëŠ” ì—¬ëŸ¬ê°œì˜ ì„œë²„ë¥¼ ì‚¬ìš©í•  ê²½ìš° ì„¸ì…˜ê°’ì„ í•˜ë‚˜ì˜ Redisì„œë²„ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆë„ë¡ ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ ì—ì„œ Redisë¥¼ í™œìš©í•˜ë ¤ê³ í•œë‹¤. ë™ì‹œ ì ‘ì†ì„ê³„ì¹˜ë¥¼ DBì— ì„¤ì •í•˜ê³  Redisì—ì„œ `ì‹¤ì‹œê°„ ì‚¬ìš©ì ì •ë³´` , ` ì‹¤ì‹œê°„ ì‚¬ìš©ì count` , ` ì‚¬ìš©ì Token` ì„ í™•ì¸í•˜ì—¬ **ì¤‘ë³µë¡œê·¸ì¸, ë¡œê·¸ì¸ëŒ€ê¸°ì—¬ë¶€(ë™ì‹œì ‘ì†ìì œí•œ)** ì„ ê³ ë ¤í•  ìˆ˜ ìˆë‹¤.

</br>

</br>

ë‹¤ìŒ ê²Œì‹œë¬¼ì—ì„  ì¢€ë” ìì„¸í•˜ê²Œ Redisë¥¼ ë‹¤ë£° ì˜ˆì •ì´ë‹¤!

</br>
