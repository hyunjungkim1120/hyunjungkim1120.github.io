{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/redis",
    "result": {"data":{"markdownRemark":{"id":"3f8c7e3c-c266-588e-a368-e2f34ecc4dd0","html":"<h2>Redis</h2>\n<p>ğŸ’¡ ë ˆë””ìŠ¤ëŠ” Remote Dictionary Serverì˜ ì•½ìë¡œì„œ, \"í‚¤-ê°’\" êµ¬ì¡°ì˜ ë¹„ì •í˜• ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³  ê´€ë¦¬í•˜ê¸° ìœ„í•œ ì˜¤í”ˆ ì†ŒìŠ¤ ê¸°ë°˜ì˜ ë¹„ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬ ì‹œìŠ¤í…œì´ë‹¤.</p>\n</br>\n<p>ìºì‹±, ì„¸ì…˜ ê´€ë¦¬, ì±„íŒ…/ë©”ì‹œì§•, ì†ë„ì œí•œ ë“± ì—¬ëŸ¬ ì‚¬ë¡€ì—ì„œ ì‚¬ìš©í•˜ë©° í˜„ì¬ ê°€ì¥ ì¸ê¸° ìˆëŠ” í‚¤-ê°’ ìŠ¤í† ì–´ì´ë‹¤. Java, Python, PHP, C, C++, C#, JavaScript, Node.js, Ruby, R, Goë¥¼ ë¹„ë¡¯í•œ ë‹¤ì–‘í•œ ê°œë°œì–¸ì–´ë¥¼ ì§€ì›í•˜ë©° ì†ë„ê°€ ë¹ ë¥´ê³  ì‚¬ìš©ì´ ê°„í¸í•˜ì—¬ ë‹¤ì–‘í•œ ì›¹, ëª¨ë°”ì¼ ë“± ë‹¤ì–‘í•œ ë¶„ì•¼ì—ì„œ ì‚¬ìš©í•˜ê³ ìˆë‹¤.</p>\n</br>\n</br>\n</br>\n<h4>Redis ì— ëŒ€í•˜ì—¬...</h4>\n<ol>\n<li>RedisëŠ” ë””ìŠ¤í¬ê°€ ì•„ë‹Œ I/Oê°€ ê°€ì¥ ë¹ ë¥¸ ë©”ëª¨ë¦¬ì— ì €ì¥í•˜ê¸° ë•Œë¬¸ì— ë¹ ë¥´ë‹¤.</li>\n<li>ì¼ë°˜ì ìœ¼ë¡œ ì„œë²„ì˜ ë©”ëª¨ë¦¬ì— ì„¸ì…˜ì„ ê´€ë¦¬í•œë‹¤ë©´ ì„œë¡œë‹¤ë¥¸ ì„œë²„ê°„ì˜ ì„¸ì…˜ ê³µìœ ë¥¼ ìœ„í•´ ì¶”ê°€ì‘ì—…ì´ í•„ìš”í•œ ë‹¨ì ì„ Redisë¡œ ê·¹ë³µê°€ëŠ¥!</li>\n</ol>\n<p>but, ë ˆë””ìŠ¤ëŠ” ë©”ëª¨ë¦¬ì €ì¥ ë°©ì‹ì´ë¯€ë¡œ Physical Memory ì´ìƒì„ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ swapì´ ë°œìƒí•˜ì—¬ ê³„ì†í•´ì„œ ë””ìŠ¤í¬ë¥¼ ì½ëŠ”ë‹¤ê³  í•œë‹¤. ì´ ê²½ìš° Redisì˜ ì„±ëŠ¥ì´ í¬ê²Œ ì €í•˜ë˜ì–´ Redisì˜ ì‚¬ìš©ì˜ë¯¸ê°€ ì¤„ì–´ë“ ë‹¤! </p>\n<p>ë˜í•œ RedisëŠ” ì‹±ê¸€ ìŠ¤ë ˆë“œë¡œ ë™ì‘í•˜ì—¬ ë°ì´í„°ì˜ ì¼ê´€ì„±ì„ ë³´ì¥í•˜ì§€ë§Œ í•œë²ˆì— í•˜ë‚˜ì˜ ì»¤ë§¨ë“œê°€ ì‹¤í–‰ë˜ëŠ” ë™ì•ˆì— ë‹¤ìŒ ëª…ë ¹ì€ ëŒ€ê¸°ìƒíƒœì´ë‹¤. </p>\n</br>\n<p>ğŸ“‹ <strong>ê²°ë¡ </strong> : Redis ì„œë²„ë¥¼ ëª©ì /ê¸°ëŠ¥ì— ë”°ë¼ ë¶„ë¦¬í•´ì„œ ì‚¬ìš©í•˜ë©´ ë¶„ë¦¬ëœ ì„œë²„ ìˆ˜ ë§Œí¼ ì²˜ë¦¬ì†ë„ë¥¼ í–¥ìƒì‹œì¼œ ë©”ëª¨ë¦¬ ê´€ë¦¬ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤!</p>\n</br>\n</br>\n<h4>Redis ë‹¤ìš´ë°›ê¸°</h4>\n<p>ë‹¤ìš´ë¡œë“œ URL :  <a href=\"https://redis.io/download\">https://redis.io/download</a> </p>\n<p>(Dockerë¥¼ ì‚¬ìš©ì˜ ê²½ìš° <a href=\"https://hub.docker.com/_/redis/\">https://hub.docker.com/_/redis/</a> ì—ì„œ ì´ë¯¸ì§€ ê´€ë ¨ëœ ì •ë³´ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤.)</p>\n</br>\n</br>\n</br>\n<h4>Spring Boot + Redis</h4>\n<ol>\n<li>\n<p><strong>Mavenë˜ëŠ” Gradleì— ì˜ì¡´ì„± ì¶”ê°€</strong></p>\n<p><code class=\"language-text\">spring-boot-starter-data-redis</code> : springì—ì„œ redisë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ì˜ì¡´ì„±\n<code class=\"language-text\">spring-session-data-redis</code> : springì˜ session storageë¡œì¨ ê¸°ì¡´ì˜ ë©”ëª¨ë¦¬ ëŒ€ì‹  redisë¥¼ ì´ìš©í•´ ì„¸ì…˜ì„ ì €ì¥ í•˜ê¸° ìœ„í•œ ì˜ì¡´ì„±</p>\n</br>\n</li>\n<li>\n<p><strong>application.properties or application.yml ì— host, port ì„¤ì •</strong></p>\n<p>ì•„ë˜ëŠ” application. yml ì˜ˆì‹œ</p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">spring</span><span class=\"token punctuation\">:</span>\n <span class=\"token key atrule\">redis</span><span class=\"token punctuation\">:</span>\n   <span class=\"token key atrule\">host</span><span class=\"token punctuation\">:</span> redis hostì •ë³´\n   <span class=\"token key atrule\">port</span><span class=\"token punctuation\">:</span> portì •ë³´</code></pre></div>\n</br>\n</li>\n<li>\n<p><strong>Config ì„¤ì •</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Configuration</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">RedisConfig</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token annotation punctuation\">@Value</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"${spring.redis.host}\"</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> host<span class=\"token punctuation\">;</span>\n\n\t<span class=\"token annotation punctuation\">@Value</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"${spring.redis.port}\"</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> port<span class=\"token punctuation\">;</span>\n\n\n\t<span class=\"token annotation punctuation\">@Bean</span>\n\t<span class=\"token keyword\">public</span> <span class=\"token class-name\">RedisTemplate</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Object</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">redisTemplate</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RedisConnectionFactory</span> connectionFactory<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token class-name\">RedisTemplate</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Object</span><span class=\"token punctuation\">></span></span> redisTemplate <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">RedisTemplate</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\tredisTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">setKeySerializer</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">StringRedisSerializer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\tredisTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">setValueSerializer</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">GenericJackson2JsonRedisSerializer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\tredisTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">setConnectionFactory</span><span class=\"token punctuation\">(</span>connectionFactory<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">return</span> redisTemplate<span class=\"token punctuation\">;</span>\n       <span class=\"token punctuation\">}</span>\n\n\t<span class=\"token annotation punctuation\">@Bean</span>\n\t<span class=\"token keyword\">public</span> <span class=\"token class-name\">RedisConnectionFactory</span> <span class=\"token function\">redisConnectionFactory</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token class-name\">RedisStandaloneConfiguration</span> configuration <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">RedisStandaloneConfiguration</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\tconfiguration<span class=\"token punctuation\">.</span><span class=\"token function\">setHostName</span><span class=\"token punctuation\">(</span>host<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\tconfiguration<span class=\"token punctuation\">.</span><span class=\"token function\">setPort</span><span class=\"token punctuation\">(</span>port<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">LettuceConnectionFactory</span><span class=\"token punctuation\">(</span>configuration<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</br>\n</li>\n<li>\n<p><strong>ì–´ë…¸í…Œì´ì…˜ ì„¤ì •</strong></p>\n<p>mainë©”ì„œë“œê°€ ìœ„ì¹˜í•˜ëŠ” í´ë˜ìŠ¤ì˜ ìœ„ì— <code class=\"language-text\">@EnableRedisHttpSession</code>ì„ ì¶”ê°€</p>\n<p>ì–´ë…¸í…Œì´ì…˜ ì„¤ì •ìœ¼ë¡œ ì•„ì£¼ ê°„ë‹¨í•˜ê²Œ Redis Session Cluster í™˜ê²½ì„ êµ¬ì„±í•  ìˆ˜ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@SpringBootApplication</span>\n<span class=\"token annotation punctuation\">@EnableRedisHttpSession</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">RedisSessionExamApplication</span> <span class=\"token punctuation\">{</span>\n\n\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token comment\">//Todo..</span>\n\t\t\n\t<span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ol>\n</br>\n<p>ì´ì œ ì„¸ì…˜ì— ì €ì¥ë˜ëŠ”ì§€ Testí•´ë³´ë©´ ì„¤ì • ë!</p>\n</br>\n</br>\n</br>\n<h4>â” ë™ì‹œ ì ‘ì†ì Control</h4>\n<p>ë‚˜ëŠ” ì—¬ëŸ¬ê°œì˜ ì„œë²„ë¥¼ ì‚¬ìš©í•  ê²½ìš° ì„¸ì…˜ê°’ì„ í•˜ë‚˜ì˜ Redisì„œë²„ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆë„ë¡ ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ ì—ì„œ Redisë¥¼ í™œìš©í•˜ë ¤ê³ í•œë‹¤. ë™ì‹œ ì ‘ì†ì„ê³„ì¹˜ë¥¼ DBì— ì„¤ì •í•˜ê³  Redisì—ì„œ <code class=\"language-text\">ì‹¤ì‹œê°„ ì‚¬ìš©ì ì •ë³´</code> , <code class=\"language-text\">ì‹¤ì‹œê°„ ì‚¬ìš©ì count</code> , <code class=\"language-text\">ì‚¬ìš©ì Token</code> ì„ í™•ì¸í•˜ì—¬ <strong>ì¤‘ë³µë¡œê·¸ì¸, ë¡œê·¸ì¸ëŒ€ê¸°ì—¬ë¶€(ë™ì‹œì ‘ì†ìì œí•œ)</strong> ì„ ê³ ë ¤í•  ìˆ˜ ìˆë‹¤.</p>\n</br>\n</br>\n<p>ë‹¤ìŒ ê²Œì‹œë¬¼ì—ì„  ì¢€ë” ìì„¸í•˜ê²Œ Redisë¥¼ ë‹¤ë£° ì˜ˆì •ì´ë‹¤!</p>\n</br>","excerpt":"Redis ğŸ’¡ ë ˆë””ìŠ¤ëŠ” Remote Dictionary Serverâ€¦","frontmatter":{"date":"September 09, 2021","slug":"/redis","title":"redis (1)","description":"Redis ê°œë…ì´í•´ ë° ì‚¬ìš© (spring boot)","featuredImage":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/10912159dfed3d05d1c95e879f05202a/20435/icon.png","srcSet":"/static/10912159dfed3d05d1c95e879f05202a/ea847/icon.png 750w,\n/static/10912159dfed3d05d1c95e879f05202a/4a806/icon.png 1080w,\n/static/10912159dfed3d05d1c95e879f05202a/e2aad/icon.png 1366w,\n/static/10912159dfed3d05d1c95e879f05202a/20435/icon.png 1920w","sizes":"100vw"},"sources":[{"srcSet":"/static/10912159dfed3d05d1c95e879f05202a/57584/icon.webp 750w,\n/static/10912159dfed3d05d1c95e879f05202a/984df/icon.webp 1080w,\n/static/10912159dfed3d05d1c95e879f05202a/4a276/icon.webp 1366w,\n/static/10912159dfed3d05d1c95e879f05202a/9c00f/icon.webp 1920w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.6666666666666666}}}}}},"pageContext":{"id":"3f8c7e3c-c266-588e-a368-e2f34ecc4dd0","previous":{"id":"4a86781f-29ed-59cd-b247-6d22720462df","frontmatter":{"slug":"/jmeter","template":"blog-post","title":"Jmeter ì„±ëŠ¥í…ŒìŠ¤íŠ¸"}},"next":{"id":"d98a8f95-11c9-5886-abd4-e62a8b18bc7b","frontmatter":{"slug":"/kafka","template":"blog-post","title":"Kafka"}}}},
    "staticQueryHashes": ["228695001","2744905544","358227665"]}