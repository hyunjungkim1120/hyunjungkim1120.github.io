{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/ExtendWith",
    "result": {"data":{"markdownRemark":{"id":"f52c18f8-b623-51d4-afef-0d6866a7df6e","html":"</br>\n<h2>ğŸ“‹ Service í…ŒìŠ¤íŠ¸ ì‘ì„±</h2>\n<p>@SpringBootTestëŠ” applicationì„ ë„ìš°ê¸°ë•Œë¬¸ì— ì‹œê°„ì´ ì˜¤ë˜ê±¸ë¦¬ê³  ë¬´ê±°ì›Œ ë‹¨ìœ„í…ŒìŠ¤íŠ¸í•˜ëŠ”ë°ëŠ” ì•Œë§ì§€ ì•Šë‹¤.  testì•ˆì—ì„œ ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ ëª¨ë“  ë¹ˆì´ ë– ìˆê¸°ë•Œë¬¸ì— ëª©ê°ì²´ë¥¼ ë§Œë“¤ì§€ ì•Šì•„ë„ serviceë“¤ì„ @Autowired ë¡œ ì‚¬ìš©ê°€ëŠ¥ í•˜ì§€ë§Œ ê²©ë¦¬ì„±ì´ ë–¨ì–´ì§€ê³  DBì— ë°ì´í„°ê°€ ìˆì–´ì•¼ì§€ë§Œ Testí•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì•„ë˜ì™€ ê°™ì´ Mockitoë¥¼ ì‚¬ìš©í•´ì„œ Service í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•´ë³¸ë‹¤.</p>\n<blockquote>\n<p>JUnit 4ì—ì„œ ì œê³µí•˜ë˜ @RunWith ë¥¼ ì‚¬ìš©í–ˆëŠ”ë° JUnit5ë¶€í„°ëŠ” ExtendWith ì‚¬ìš©!</p>\n<p>ì°¸ê³  : <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.testing.spring-boot-applications\">https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.testing.spring-boot-applications</a></p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@ExtendWith</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">MockitoExtension</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">DmarkerServiceTest</span> <span class=\"token punctuation\">{</span>\n    \n    <span class=\"token annotation punctuation\">@Mock</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">DeveloperRepository</span> developerRepository<span class=\"token punctuation\">;</span>\n    <span class=\"token annotation punctuation\">@Mock</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">RetireDeveloperRepository</span> retireDeveloperRepository<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@InjectMocks</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">DMakerService</span> dMakerService<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@Test</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">testSomething</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">//org.mockito importí•´ì„œ given ì‚¬ìš©</span>\n        <span class=\"token comment\">//findByMemberIdì— ì•„ë¬´ ë¬¸ìì—´ì´ë‚˜ ì£¼ë©´ ì´ëŸ° ì‘ë‹µì„ ì£¼ê² ë‹¤ê³  Mockingì„ ì„¤ì •</span>\n        <span class=\"token function\">given</span><span class=\"token punctuation\">(</span>developerRepository<span class=\"token punctuation\">.</span><span class=\"token function\">findByMemberId</span><span class=\"token punctuation\">(</span><span class=\"token function\">anyString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">willReturn</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Optinal</span><span class=\"token punctuation\">.</span><span class=\"token function\">of</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Developer</span><span class=\"token punctuation\">.</span><span class=\"token function\">builder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                                  <span class=\"token punctuation\">.</span><span class=\"token function\">developerLevel</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">DeveloperLevel</span><span class=\"token punctuation\">.</span>SENIOR<span class=\"token punctuation\">)</span>\n                                  <span class=\"token punctuation\">.</span><span class=\"token function\">experienceYears</span><span class=\"token punctuation\">(</span><span class=\"token number\">12</span><span class=\"token punctuation\">)</span>\n                                  <span class=\"token punctuation\">.</span><span class=\"token function\">statusCode</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">StatusCode</span><span class=\"token punctuation\">.</span>EMPLOYED<span class=\"token punctuation\">)</span>\n                                  <span class=\"token punctuation\">.</span><span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">)</span>\n                                  <span class=\"token punctuation\">.</span><span class=\"token function\">age</span><span class=\"token punctuation\">(</span><span class=\"token number\">12</span><span class=\"token punctuation\">)</span>\n                                  <span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token class-name\">DeveloperDetailDto</span> developerDetail <span class=\"token operator\">=</span> dMarkerService<span class=\"token punctuation\">.</span><span class=\"token function\">getDeveloperDetail</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"memberId\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token function\">assertEquals</span><span class=\"token punctuation\">(</span>SENIOR<span class=\"token punctuation\">,</span> developerDetail<span class=\"token punctuation\">.</span><span class=\"token function\">getDeveloperLevel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">assertEquals</span><span class=\"token punctuation\">(</span><span class=\"token number\">12</span><span class=\"token punctuation\">,</span> developerDetail<span class=\"token punctuation\">.</span><span class=\"token function\">getExperienceYears</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@Test</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">createDeveloperTest_success</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">//given</span>\n        <span class=\"token class-name\">CreateDeveloper<span class=\"token punctuation\">.</span>Request</span> request <span class=\"token operator\">=</span> <span class=\"token class-name\">CreateDeveloper<span class=\"token punctuation\">.</span>Request</span><span class=\"token punctuation\">.</span><span class=\"token function\">builder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">developerLevel</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">DeveloperLevel</span><span class=\"token punctuation\">.</span>SENIOR<span class=\"token punctuation\">)</span>\n                                  <span class=\"token punctuation\">.</span><span class=\"token function\">experienceYears</span><span class=\"token punctuation\">(</span><span class=\"token number\">12</span><span class=\"token punctuation\">)</span>\n                                  <span class=\"token punctuation\">.</span><span class=\"token function\">memberId</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"memberId\"</span><span class=\"token punctuation\">)</span>\n                                  <span class=\"token punctuation\">.</span><span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">)</span>\n                                  <span class=\"token punctuation\">.</span><span class=\"token function\">age</span><span class=\"token punctuation\">(</span><span class=\"token number\">32</span><span class=\"token punctuation\">)</span>\n                                  <span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">given</span><span class=\"token punctuation\">(</span>developerRepository<span class=\"token punctuation\">.</span><span class=\"token function\">findByMemberId</span><span class=\"token punctuation\">(</span><span class=\"token function\">anyString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">willReturn</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Optinal</span><span class=\"token punctuation\">.</span><span class=\"token function\">empty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token class-name\">ArgumentCaptor</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Developer</span><span class=\"token punctuation\">></span></span> captor <span class=\"token operator\">=</span> \n            <span class=\"token class-name\">ArgumentCaptor</span><span class=\"token punctuation\">.</span><span class=\"token function\">forClass</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Developer</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">//when</span>\n        <span class=\"token class-name\">CreateDeveloper<span class=\"token punctuation\">.</span>Response</span> <span class=\"token operator\">=</span> dMarkerService<span class=\"token punctuation\">.</span><span class=\"token function\">createDeveloper</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">//then</span>\n        <span class=\"token function\">verify</span><span class=\"token punctuation\">(</span>developerRepository<span class=\"token punctuation\">,</span> <span class=\"token function\">times</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span>captor<span class=\"token punctuation\">.</span><span class=\"token function\">capture</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">Developer</span> savedDeveloper <span class=\"token operator\">=</span> captor<span class=\"token punctuation\">.</span><span class=\"token function\">getValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">assertEquals</span><span class=\"token punctuation\">(</span>SENIOR<span class=\"token punctuation\">,</span> savedDeveloper<span class=\"token punctuation\">.</span><span class=\"token function\">getDeveloperLevel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">assertEquals</span><span class=\"token punctuation\">(</span><span class=\"token number\">12</span><span class=\"token punctuation\">,</span> savedDeveloper<span class=\"token punctuation\">.</span><span class=\"token function\">getExperienceYears</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ğŸ’¡ ìœ„ì˜ ì½”ë“œì™€ ê°™ì´ ArgumentCaptor ë¡œ createí•˜ëŠ” Dataë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤. </p>\n</br>\n<p><strong>@Mock</strong> : mock ê°ì²´ë¥¼ ë§Œë“¤ì–´ ë°˜í™˜(ì‹¤ì œ ì¸ìŠ¤í„´ìŠ¤ ì—†ì´ ê°€ìƒì˜ mock ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì§ì ‘ ë§Œë“¤ì–´ ì‚¬ìš©)</p>\n<p><strong>@Spy</strong> : spy ê°ì²´ë¥¼ ë§Œë“¤ì–´ ë°˜í™˜(ì‹¤ì œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‚¬ìš©í•´ì„œ mocking í•¨, Spy ê°ì²´ëŠ” í–‰ìœ„ë¥¼ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ ê°ì²´ë¥¼ ë§Œë“¤ ë•Œ ì‚¬ìš©í•œ ì‹¤ì œ ì¸ìŠ¤í„´ìŠ¤ì˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œë‹¤.) -> ARepositoryì˜ ë©”ì†Œë“œ ì¤‘ aí•¨ìˆ˜ëŠ” returnê°’ì„ ë§Œë“¤ì–´ì£¼ê³  bí•¨ìˆ˜ëŠ” ì‹¤ì œ ê¸°ëŠ¥ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ê³  ì‹¶ì€ ê²½ìš°</p>\n<p><strong>@InjectMocks</strong> : @Mockì´ë‚˜ @Spy ê°ì²´ë¥¼ ìì‹ ì˜ ë©¤ë²„ í´ë˜ìŠ¤ì™€ ì¼ì¹˜í•˜ë©´ ì£¼ì…</p>\n<p><strong>@MockBean</strong> : ApplicationContextì— mockê°ì²´ë¥¼ ì¶”ê°€<em>(org.springframework.boot.test.mock.mockito.MockBean)</em></p>\n<p><strong>@SpyBean</strong> : ApplicationContextì— spyê°ì²´ë¥¼ ì¶”ê°€</p>\n</br>\n<h5>@MockBeanì€ ìŠ¤í”„ë§ ì»¨í…ìŠ¤íŠ¸ì— mockê°ì²´ë¥¼ ë“±ë¡í•˜ê²Œ ë˜ê³  ìŠ¤í”„ë§ ì»¨í…ìŠ¤íŠ¸ì— ì˜í•´ @Autowiredê°€ ë™ì‘í•  ë•Œ ë“±ë¡ëœ mockê°ì²´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ë™ì‘!</h5>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@MockBean</span>\n<span class=\"token keyword\">private</span> <span class=\"token class-name\">DeveloperRepository</span> developerRepository<span class=\"token punctuation\">;</span>\n<span class=\"token annotation punctuation\">@MockBean</span>\n<span class=\"token keyword\">private</span> <span class=\"token class-name\">RetireDeveloperRepository</span> retireDeveloperRepository<span class=\"token punctuation\">;</span>\n\n<span class=\"token annotation punctuation\">@Autowired</span>\n<span class=\"token keyword\">private</span> <span class=\"token class-name\">DMakerService</span> dMakerService<span class=\"token punctuation\">;</span></code></pre></div>","excerpt":"ğŸ“‹ Service í…ŒìŠ¤íŠ¸ ì‘ì„± @SpringBootTestëŠ” applicationì„ ë„ìš°ê¸°ë•Œë¬¸ì— ì‹œê°„ì´ ì˜¤ë˜ê±¸ë¦¬ê³  ë¬´ê±°ì›Œ ë‹¨ìœ„í…ŒìŠ¤íŠ¸í•˜ëŠ”ë°ëŠ” ì•Œë§ì§€ ì•Šë‹¤.  testì•ˆì—ì„œ ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ ëª¨ë“  ë¹ˆì´ ë– ìˆê¸°ë•Œë¬¸ì— ëª©ê°ì²´ë¥¼ ë§Œë“¤ì§€ ì•Šì•„ë„ serviceâ€¦","frontmatter":{"date":"March 27, 2022","slug":"/ExtendWith","title":"Service í…ŒìŠ¤íŠ¸ @ExtendWith","description":"Service í…ŒìŠ¤íŠ¸ @ExtendWith","featuredImage":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/f57c58c11f484742cc1d8ce6e09248f9/4a49b/extendWith.jpg","srcSet":"/static/f57c58c11f484742cc1d8ce6e09248f9/37bba/extendWith.jpg 750w,\n/static/f57c58c11f484742cc1d8ce6e09248f9/61c72/extendWith.jpg 1080w,\n/static/f57c58c11f484742cc1d8ce6e09248f9/4a49b/extendWith.jpg 1280w","sizes":"100vw"},"sources":[{"srcSet":"/static/f57c58c11f484742cc1d8ce6e09248f9/a66aa/extendWith.webp 750w,\n/static/f57c58c11f484742cc1d8ce6e09248f9/65dd5/extendWith.webp 1080w,\n/static/f57c58c11f484742cc1d8ce6e09248f9/71d4d/extendWith.webp 1280w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5625}}}}}},"pageContext":{"id":"f52c18f8-b623-51d4-afef-0d6866a7df6e","previous":{"id":"2f0c2f2c-8393-5203-b3f8-5e21dfad033e","frontmatter":{"slug":"/lessons/92342","template":"algorithm-post","title":"ì–‘ê¶ëŒ€íšŒ(í”„ë¡œê·¸ë˜ë¨¸ìŠ¤) Java"}},"next":{"id":"0578b566-ed2b-5398-be36-80c2073635bb","frontmatter":{"slug":"/webMvcTest","template":"blog-post","title":"Controller í…ŒìŠ¤íŠ¸ @WebMvcTest"}}}},
    "staticQueryHashes": ["228695001","2744905544","358227665"]}